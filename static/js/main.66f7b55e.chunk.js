(this["webpackJsonpswag-shop-web"]=this["webpackJsonpswag-shop-web"]||[]).push([[0],{10:function(t,e,c){},15:function(t,e,c){},17:function(t,e,c){},19:function(t,e,c){},20:function(t,e,c){},24:function(t,e,c){"use strict";c.r(e);var i=c(0),n=c.n(i),s=c(5),r=c.n(s),a=(c(15),c(4)),o=(c(10),c(6)),d=(c(16),function t(){Object(o.a)(this,t),this.getProducts=function(){return new Promise((function(t,e){fetch("http://localhost:3004/product").then((function(e){t(e.json())}))}))}}),l=(c(17),"notif_wishlist_changed"),u="notif_cart_changed",b={},j=null,h=function t(){return Object(o.a)(this,t),this.postNotification=function(t,e){for(var c=b[t],i=0;i<c.length;i++){c[i].callBack(e)}},this.removeObserver=function(t,e){var c=b[e];if(c)for(var i=0;i<c.length;i++)if(t===c[i].observer){c.splice(i,1),b[e]=c;break}},this.addObserver=function(t,e,c){b[t]||(b[t]=[]);var i={observer:e,callBack:c};b[t].push(i)},j||(j=this),j},f=new h,m=null,O=[],p=[],v=function t(){return Object(o.a)(this,t),this.itemOnWishList=function(t){for(var e=0;e<O.length;e++)if(O[e]._id===t._id)return!0;return!1},this.addWishListItem=function(t){O.push(t),f.postNotification(l,O)},this.removeWishListItem=function(t){for(var e=0;e<O.length;e++)if(O[e]._id===t._id){O.splice(e,1),f.postNotification(l,O);break}},this.addCartItem=function(t){p.push(t),f.postNotification(u,p)},this.addQuantity=function(t){p.push(t),f.postNotification(u,p)},this.cartItemCount=function(){return p.length},this.itemOnCart=function(t){for(var e=0;e<p.length;e++)if(p[e]._id===t._id)return!0;return!1},this.removeCartItem=function(t){for(var e=0;e<p.length;e++)if(p[e]._id===t._id){p.splice(e,1),f.postNotification(u,p);break}},m||(m=this),m},g=c(1);var x=function(t){var e,c=this,n=new v,s=new h,r=Object(i.useState)(!1),o=Object(a.a)(r,2),d=o[0],b=o[1],j=Object(i.useState)(!1),f=Object(a.a)(j,2),m=f[0],O=f[1];return Object(i.useEffect)((function(){return s.addObserver(l,c,(function(e){b(n.itemOnWishList(t.product))})),s.addObserver(u,c,(function(){O(n.itemOnCart(t.product))})),function(){s.removeObserver(this,l),s.removeObserver(this,u)}})),e=d?"btn btn-danger":"btn btn-primary",Object(g.jsxs)("div",{className:"card product",children:[Object(g.jsx)("img",{className:"card-img-top",src:t.product.imgUrl,alt:"Product"}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h6",{className:"card-title",children:t.product.title}),Object(g.jsxs)("p",{className:"card-text",children:["Price: $",t.product.price]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("a",{href:"#",onClick:function(){m?n.addQuantity(t.product):n.addCartItem(t.product)},className:"btn btn-outline-secondary",children:["Add to Cart ",Object(g.jsx)("i",{class:"bi bi-cart"})]}),Object(g.jsx)("a",{href:"#",onClick:function(){d?n.removeWishListItem(t.product):n.addWishListItem(t.product)},className:e,children:Object(g.jsx)("i",{class:"bi bi-heart-fill"})})]})]})]})};c(19),c(20);var N=function(t){var e=new v;return Object(g.jsxs)("li",{className:"list-group-item d-flex pc-condensed",children:[Object(g.jsx)("a",{onClick:function(){"cart"===t.parent?e.removeCartItem(t.product):e.removeWishListItem(t.product)},className:"btn btn-outline-danger",children:"X"}),Object(g.jsxs)("p",{children:[t.product.title," | ",Object(g.jsx)("b",{children:t.product.price})]})]})};var w=function(t){var e=this,c=new h,n=Object(i.useState)([]),s=Object(a.a)(n,2),r=s[0],o=s[1];return Object(i.useEffect)((function(){return c.addObserver(l,e,(function(t){o(t)})),function(){c.removeObserver(this,l)}})),Object(g.jsx)("div",{className:"card",children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h4",{className:"card-title",children:"Wish List"}),Object(g.jsx)("ul",{className:"list-group",children:r.map((function(t){return Object(g.jsx)(N,{product:t,parent:"wishlist"},t._id)}))})]})})},_=c(9),C=c(7);var I=function(t){var e=this,c=new h,n=Object(i.useState)([]),s=Object(a.a)(n,2),r=s[0],o=s[1];return Object(i.useEffect)((function(){return c.addObserver(u,e,(function(t){o(t)})),function(){c.removeObserver(this,u)}})),Object(g.jsxs)(C.a,Object(_.a)(Object(_.a)({},t),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(C.a.Header,{closeButton:!0,children:Object(g.jsx)(C.a.Title,{id:"contained-modal-title-vcenter",children:" Shopping Bag "})}),Object(g.jsx)(C.a.Body,{children:r.map((function(t){return Object(g.jsx)(N,{product:t,parent:"cart"},t._id)}))})]}))},L=c.p+"static/media/logo.6ce24c58.svg";var y=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("img",{src:L,className:"App-logo",alt:"logo"}),Object(g.jsx)("h2",{children:"Game Shop"})]})})};new d;var S=function(){var t=this,e=new v,c=new h,s=Object(i.useState)([]),r=Object(a.a)(s,2),o=r[0],d=r[1],l=Object(i.useState)(0),b=Object(a.a)(l,2),j=b[0],f=b[1],m=n.a.useState(!1),O=Object(a.a)(m,2),p=O[0],N=O[1];return Object(i.useEffect)((function(){return d([{_id:"602e0ad0a292184b7c5556c7",price:30,title:"God of War",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/81qJ1ui8bzL._AC_SL1500_.jpg"},{_id:"602e0adaa292184b7c5556c8",price:25,title:"Uncharted 4 - A Thief's End",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/519-jJh31XL.jpg"},{_id:"602e0ae0a292184b7c5556c9",price:40,title:"Horizon Zero Dawn",imgUrl:"https://image.api.playstation.com/vulcan/img/rnd/202011/1018/9erXiwu0ozgKGPIUVTuy2siN.png"}]),c.addObserver(u,t,(function(){f(e.cartItemCount())})),function(){c.removeObserver(this,u)}})),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)(y,{}),Object(g.jsxs)("a",{href:"#",onClick:function(){return N(!0)},className:"btn btn-outline-secondary",children:[Object(g.jsx)("i",{class:"bi bi-bag"}),Object(g.jsx)("span",{class:"badge badge-success",children:j})]}),Object(g.jsx)(I,{show:p,onHide:function(){return N(!1)}})]}),Object(g.jsx)("div",{className:"container-fluid App-main",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-sm-8",children:Object(g.jsx)("div",{className:"row",children:o.map((function(t){return Object(g.jsx)("div",{className:"col-sm-4",children:Object(g.jsx)(x,{product:t})},t._id)}))})}),Object(g.jsx)("div",{className:"col-sm-4",children:Object(g.jsx)(w,{})})]})})]})},k=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,26)).then((function(e){var c=e.getCLS,i=e.getFID,n=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),i(t),n(t),s(t),r(t)}))};r.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(S,{})}),document.getElementById("root")),k()}},[[24,1,2]]]);
//# sourceMappingURL=main.66f7b55e.chunk.js.map